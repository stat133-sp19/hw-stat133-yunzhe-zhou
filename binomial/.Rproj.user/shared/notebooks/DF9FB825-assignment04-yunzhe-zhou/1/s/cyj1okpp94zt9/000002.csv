"0","library(gtools)"
"0","n=1000"
"0","w=runif(n,-1,1)"
"0","a=c()"
"0","y=c()"
"0","a0=rep(0,n)"
"0","a1=rep(1,n)"
"0","inv_w=inv.logit(w)"
"0","for(i in 1:n)"
"0","{"
"0","  a[i]=sample(c(0,1),1,prob = c(1-inv_w[i],inv_w[i]))"
"0","  p=-3+a[i]-0.5*w[i]+0.25*a[i]*w[i]"
"0","  p=inv.logit(p)"
"0","  y[i]=sample(c(0,1),1,prob = c(1-p,p))"
"0","}"
