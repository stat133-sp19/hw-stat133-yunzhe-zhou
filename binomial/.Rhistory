plot(d2.log,main="diff2_log",type="l")
plot(diff12.log,main="diff_ag_12_log",type="l")
plot(diff12_1.log,main="diff1_diff12_log",type="l")
plot(diff12_2.log,main="diff2_diff12_log",type="l")
acf2(diff.sqrt,main="diff1_sqrt",max.lag=55)
acf2(d2.sqrt,main="diff2_sqrt",max.lag=55)
acf2(diff12.sqrt,main="diff_ag_12_sqrt",max.lag=55)
acf2(diff12_1.sqrt,main="diff1_diff12_sqrt",max.lag=55)
acf2(diff12_2.sqrt,main="diff2_diff12_sqrt",max.lag=55)
acf2(diff.log,main="diff1_log",max.lag=55)
acf2(d2.log,main="diff2_log",max.lag=55)
acf2(diff12.log,main="diff_ag_12_log",max.lag=55)
acf2(diff12_1.log,main="diff1_diff12_log",max.lag=55)
acf2(diff12_2.log,main="diff2_diff12_log",max.lag=55)
data2_sqrt=sqrt(data2)
data2_log=log(data2)
plot(data2_sqrt[1:100], type = "l", ylab = "value", xlab = "Time", main = "data2_sqrt")
plot(data2_log[1:100], type = "l", ylab = "value", xlab = "Time", main = "data2_log")
diff.sqrt = diff(data2_sqrt)
d2.sqrt = diff(diff.sqrt)
diff12_1.sqrt=diff(diff.sqrt,lag = 12)
diff12.sqrt=diff(data1_sqrt,lag = 12)
diff12_2.sqrt=diff(d2.sqrt,lag = 12)
diff.log = diff(data2_log)
diff12_1.log = diff(diff.log,lag=12)
d2.log = diff(diff.log)
diff12.log = diff(data1_log,lag=12)
diff12_2.log=diff(d2.log,lag = 12)
plot(diff.sqrt,main="diff1_sqrt",type="l")
plot(d2.sqrt,main="diff2_sqrt",type="l")
plot(diff12.sqrt,main="diff_ag_12_sqrt",type="l")
plot(diff12_1.sqrt,main="diff1_diff12_sqrt",type="l")
plot(diff12_2.sqrt,main="diff2_diff12_sqrt",type="l")
plot(diff.log,main="diff1_log",type="l")
plot(d2.log,main="diff2_log",type="l")
plot(diff12.log,main="diff_ag_12_log",type="l")
plot(diff12_1.log,main="diff1_diff12_log",type="l")
plot(diff12_2.log,main="diff2_diff12_log",type="l")
acf2(diff.sqrt,main="diff1_sqrt",max.lag=55)
acf2(d2.sqrt,main="diff2_sqrt",max.lag=55)
acf2(diff12.sqrt,main="diff_ag_12_sqrt",max.lag=55)
acf2(diff12_1.sqrt,main="diff1_diff12_sqrt",max.lag=55)
acf2(diff12_2.sqrt,main="diff2_diff12_sqrt",max.lag=55)
acf2(diff.log,main="diff1_log",max.lag=55)
acf2(d2.log,main="diff2_log",max.lag=55)
acf2(diff12.log,main="diff_ag_12_log",max.lag=55)
acf2(diff12_1.log,main="diff1_diff12_log",max.lag=55)
acf2(diff12_2.log,main="diff2_diff12_log",max.lag=55)
library(astsa)
auto.arima(data1,allowdrift = FALSE)
library(astsa)
auto.arima(data1_log,allowdrift = FALSE)
#model1#
#come from auto.arima()
model1 <- sarima(log_gas,p=2,d=1,q=3,P=0,D=1,Q=1,S=12,no.constant = TRUE,details=FALSE)
#model1#
#come from auto.arima()
model1 <- sarima(data1_log,p=2,d=1,q=3,P=0,D=1,Q=1,S=12,no.constant = TRUE,details=FALSE)
#model2#
#in Q1 (c), we use the data with second differencing. I found that the pacf of second differencing cut off after lag = 11.
model2 <- sarima(data1_log, p=11, d=2, q=0,no.constant = TRUE,details=FALSE)
#model3#
#based on auto.arima() Q1(c) and Q1(d), agree with the second differencing data with seasonal = 12
model3 <- sarima(data1_log,p=1,d=2,q=2,P=1,D=1,Q=1,S=12,no.constant = TRUE,details=FALSE)
model1.est <- model1$ttable[,1]
model2.est <- model2$ttable[,1]
model3.est <- model3$ttable[,1]
model1.se <- model1$ttable[,2]
model2.se <- model2$ttable[,2]
model3.se <- model3$ttable[,2]
#confidence intervals for model1
model1.upper.bound<-numeric(0)
for(i in 1:length(model1.est)){
model1.upper.bound[i] <- model1.est[i] + 1.96*model1.se[i]
}
model1.lower.bound<-numeric(0)
for(i in 1:length(model1.est)){
model1.lower.bound[i] <- model1.est[i] - 1.96*model1.se[i]
}
model1.upper.bound
model1.lower.bound
#confidence intervals for model2
model2.upper.bound<-numeric(0)
for(i in 1:length(model2.est)){
model2.upper.bound[i] <- model2.est[i] + 1.96*model2.se[i]
}
model2.lower.bound<-numeric(0)
for(i in 1:length(model2.est)){
model2.lower.bound[i] <- model2.est[i] - 1.96*model2.se[i]
}
model2.upper.bound
model2.lower.bound
#confidence intervals for model3
model3.upper.bound<-numeric(0)
for(i in 1:length(model3.est)){
model3.upper.bound[i] <- model3.est[i] + 1.96*model3.se[i]
}
model3.lower.bound<-numeric(0)
for(i in 1:length(model3.est)){
model3.lower.bound[i] <- model3.est[i] - 1.96*model3.se[i]
}
model3.upper.bound
model3.lower.bound
data1_log
#model1#
#come from auto.arima()
model1 <- sarima(data1_log,p=2,d=1,q=3,no.constant = TRUE,details=FALSE)
#model2#
#in Q1 (c), we use the data with second differencing. I found that the pacf of second differencing cut off after lag = 11.
model2 <- sarima(data1_log, p=11, d=2, q=0,no.constant = TRUE,details=FALSE)
#model3#
#based on auto.arima() Q1(c) and Q1(d), agree with the second differencing data with seasonal = 12
model3 <- sarima(data1_log,p=1,d=2,q=2,P=1,no.constant = TRUE,details=FALSE)
#model1#
#come from auto.arima()
model1 <- sarima(data1_log,p=2,d=1,q=3,no.constant = TRUE,details=FALSE)
#model2#
#in Q1 (c), we use the data with second differencing. I found that the pacf of second differencing cut off after lag = 11.
model2 <- sarima(data1_log, p=11, d=2, q=0,no.constant = TRUE,details=FALSE)
#model3#
#based on auto.arima() Q1(c) and Q1(d), agree with the second differencing data with seasonal = 12
model3 <- sarima(data1_log,p=1,d=2,q=2,no.constant = TRUE,details=FALSE)
model1.est <- model1$ttable[,1]
model2.est <- model2$ttable[,1]
model3.est <- model3$ttable[,1]
model1.se <- model1$ttable[,2]
model2.se <- model2$ttable[,2]
model3.se <- model3$ttable[,2]
#confidence intervals for model1
model1.upper.bound<-numeric(0)
for(i in 1:length(model1.est)){
model1.upper.bound[i] <- model1.est[i] + 1.96*model1.se[i]
}
model1.lower.bound<-numeric(0)
for(i in 1:length(model1.est)){
model1.lower.bound[i] <- model1.est[i] - 1.96*model1.se[i]
}
model1.upper.bound
model1.lower.bound
#confidence intervals for model2
model2.upper.bound<-numeric(0)
for(i in 1:length(model2.est)){
model2.upper.bound[i] <- model2.est[i] + 1.96*model2.se[i]
}
model2.lower.bound<-numeric(0)
for(i in 1:length(model2.est)){
model2.lower.bound[i] <- model2.est[i] - 1.96*model2.se[i]
}
model2.upper.bound
model2.lower.bound
#confidence intervals for model3
model3.upper.bound<-numeric(0)
for(i in 1:length(model3.est)){
model3.upper.bound[i] <- model3.est[i] + 1.96*model3.se[i]
}
model3.lower.bound<-numeric(0)
for(i in 1:length(model3.est)){
model3.lower.bound[i] <- model3.est[i] - 1.96*model3.se[i]
}
model3.upper.bound
model3.lower.bound
model1=sarima(log_gas,p=2,d=1,q=3,P=0,D=1,Q=1,S=12,no.constant = TRUE)
model1=sarima(data1_log,p=2,d=1,q=3,P=0,D=1,Q=1,S=12,no.constant = TRUE)
model2 <- sarima(data1_log, p=11, d=2, q=0,no.constant = TRUE)
model3 <- sarima(data1_log),p=1,d=2,q=2,P=1,D=1,Q=1,S=12,no.constant = TRUE)
model1=sarima(data1_log,p=2,d=1,q=3,no.constant = TRUE)
model2 <- sarima(data1_log, p=11, d=2, q=0,no.constant = TRUE)
model3 <- sarima(data1_log,p=1,d=2,q=2,no.constant = TRUE)
data1.raw = read.delim("data1.csv")
#The useful data is between row 1 and row 180
data1.use = data1.raw[1:180, 1]
len = length(data1.use)
data1 = rep(0, len)
for(i in 1:len)
{
data1[i] = as.numeric(unlist(strsplit(as.character(data1.use[i]), ","))[2])
}
plot(data1, type = "l", ylab = "value", xlab = "Time", main = "data1")
data1_sqrt=sqrt(data1)
data1_log=log(data1)
plot(data1_sqrt, type = "l", ylab = "value", xlab = "Time", main = "data1_sqrt")
plot(data1_log, type = "l", ylab = "value", xlab = "Time", main = "data1_log")
diff.sqrt = diff(data1_sqrt)
d2.sqrt = diff(diff.sqrt)
diff12_1.sqrt=diff(diff.sqrt,lag = 12)
diff12.sqrt=diff(data1_sqrt,lag = 12)
diff12_2.sqrt=diff(d2.sqrt,lag = 12)
diff.log = diff(data1_log)
diff12_1.log = diff(diff.log,lag=12)
d2.log = diff(diff.log)
diff12.log = diff(data1_log,lag=12)
diff12_2.log=diff(d2.log,lag = 12)
plot(diff.sqrt,main="diff1_sqrt",type="l")
plot(d2.sqrt,main="diff2_sqrt",type="l")
plot(diff12.sqrt,main="diff_ag_12_sqrt",type="l")
plot(diff12_1.sqrt,main="diff1_diff12_sqrt",type="l")
plot(diff12_2.sqrt,main="diff2_diff12_sqrt",type="l")
plot(diff.log,main="diff1_log",type="l")
plot(d2.log,main="diff2_log",type="l")
plot(diff12.log,main="diff_ag_12_log",type="l")
plot(diff12_1.log,main="diff1_diff12_log",type="l")
plot(diff12_2.log,main="diff2_diff12_log",type="l")
acf2(diff.sqrt,main="diff1_sqrt",max.lag=55)
acf2(d2.sqrt,main="diff2_sqrt",max.lag=55)
acf2(diff12.sqrt,main="diff_ag_12_sqrt",max.lag=55)
acf2(diff12_1.sqrt,main="diff1_diff12_sqrt",max.lag=55)
acf2(diff12_2.sqrt,main="diff2_diff12_sqrt",max.lag=55)
acf2(diff.log,main="diff1_log",max.lag=55)
acf2(d2.log,main="diff2_log",max.lag=55)
acf2(diff12.log,main="diff_ag_12_log",max.lag=55)
acf2(diff12_1.log,main="diff1_diff12_log",max.lag=55)
acf2(diff12_2.log,main="diff2_diff12_log",max.lag=55)
library(astsa)
auto.arima(data1_log,allowdrift = FALSE)
#model1#
#come from auto.arima()
model1 <- sarima(data1_log,p=0,d=1,q=1,no.constant = TRUE,details=FALSE)
#model2#
#in Q1 (c), we use the data with second differencing. I found that the pacf of second differencing cut off after lag = 11.
model2 <- sarima(data1_log, p=0, d=2, q=0,D=1,P=1,S=12,no.constant = TRUE,details=FALSE)
#model3#
#based on auto.arima() Q1(c) and Q1(d), agree with the second differencing data with seasonal = 12
model3 <- sarima(data1_log,p=0,d=2,q=0,D=1,Q=1,S=12,no.constant = TRUE,details=FALSE)
model1.est <- model1$ttable[,1]
model2.est <- model2$ttable[,1]
model3.est <- model3$ttable[,1]
model1.se <- model1$ttable[,2]
model2.se <- model2$ttable[,2]
model3.se <- model3$ttable[,2]
#confidence intervals for model1
model1.upper.bound<-numeric(0)
for(i in 1:length(model1.est)){
model1.upper.bound[i] <- model1.est[i] + 1.96*model1.se[i]
}
model1.lower.bound<-numeric(0)
for(i in 1:length(model1.est)){
model1.lower.bound[i] <- model1.est[i] - 1.96*model1.se[i]
}
model1.upper.bound
model1.lower.bound
#confidence intervals for model2
model2.upper.bound<-numeric(0)
for(i in 1:length(model2.est)){
model2.upper.bound[i] <- model2.est[i] + 1.96*model2.se[i]
}
model2.lower.bound<-numeric(0)
for(i in 1:length(model2.est)){
model2.lower.bound[i] <- model2.est[i] - 1.96*model2.se[i]
}
model2.upper.bound
model2.lower.bound
#confidence intervals for model3
model3.upper.bound<-numeric(0)
for(i in 1:length(model3.est)){
model3.upper.bound[i] <- model3.est[i] + 1.96*model3.se[i]
}
model3.lower.bound<-numeric(0)
for(i in 1:length(model3.est)){
model3.lower.bound[i] <- model3.est[i] - 1.96*model3.se[i]
}
model3.upper.bound
model3.lower.bound
model1=sarima(data1_log,p=2,d=1,q=3,no.constant = TRUE)
model2 <- sarima(data1_log, p=11, d=2, q=0,no.constant = TRUE)
model3 <- sarima(data1_log,p=1,d=2,q=2,no.constant = TRUE)
model1=sarima(data1_log,p=0,d=1,q=1,no.constant = TRUE)
model2 <- sarima(data1_log, p=0, d=2, q=0,D=1,P=1,S=12,no.constant = TRUE)
model3 <- sarima(data1_log,p=0,d=2,q=0,D=1,Q=1,S=12,no.constant = TRUE)
model1=sarima(data1_log,p=0,d=1,q=1,no.constant = TRUE)
model2 <- sarima(data1_log, p=0, d=2, q=1,D=1,P=1,S=12,no.constant = TRUE)
model3 <- sarima(data1_log,p=0,d=2,q=1,D=1,Q=1,S=12,no.constant = TRUE)
#model1
#predict one year and four months
predict1=sarima.for(data1_log,n.ahead=16,p=0,d=1,q=1,no.constant = TRUE)
model1_lb=predict1$pred-1.96*predict1$se
model1_ub=predict1$pred+1.96*predict1$se
#we predict 4 months in 1995 and whole 1996. We only output the predict value in 1996 to match the requirement of this question
table.predict1=data.frame(predict1$pred[5:16],model1_lb[5:16],model1_ub[5:16])
colnames(table.predict1)=c("predict","Lower_bound","Upper_bound")
#plot(1:(length(log_gas)+16), c(log_gas, predict1$pred),type = "l", main = "prediction", ylab = "gas_production",xlab = "time",ylim = c(8,13))
#abline(v=length(log_gas),col = "red")
#lines(length(log_gas):(length(log_gas)+15), model1_lb,col = "blue")
#lines(length(log_gas):(length(log_gas)+15), model1_ub,col = "blue")
#model2
predict2=sarima.for(data1_log,n.ahead=16,p=11,d=2,q=0,no.constant = TRUE)
model2_lb=predict2$pred-1.96*predict2$se
model2_ub=predict2$pred+1.96*predict2$se
table.predict2=data.frame(predict2$pred[5:16],model2_lb[5:16],model2_ub[5:16])
colnames(table.predict2)=c("predict","Lower_bound","Upper_bound")
#plot(1:(length(log_gas)+16), c(log_gas, predict2$pred),type = "l", main = "prediction", ylab = "gas_production",xlab = "time",ylim = c(8,13))
#abline(v=length(log_gas),col = "red")
#lines(length(log_gas):(length(log_gas)+15), model2_lb,col = "blue")
#lines(length(log_gas):(length(log_gas)+15), model2_ub,col = "blue")
#model3
predict3=sarima.for(data1_log,n.ahead=16,p=1,d=2,q=2,no.constant = TRUE)
model3_lb=predict3$pred-1.96*predict3$se
model3_ub=predict3$pred+1.96*predict3$se
table.predict3=data.frame(predict3$pred[5:16],model3_lb[5:16],model3_ub[5:16])
colnames(table.predict3)=c("predict","Lower_bound","Upper_bound")
#plot(1:(length(log_gas)+16), c(log_gas, predict3$pred),type = "l", main = "prediction", ylab = "gas_production",xlab = "time",ylim = c(8,13))
#abline(v=length(log_gas),col = "red")
#lines(length(log_gas):(length(log_gas)+15), model3_lb,col = "blue")
#lines(length(log_gas):(length(log_gas)+15), model3_ub,col = "blue")
table.predict1
table.predict2
table.predict3
model1$AIC
model2$AIC
model3$AIC
model1$AICc
model2$AICc
model3$AICc
model1$BIC
model2$BIC
model3$BIC
CV=c()
#model1
options(warn=-1)
error1=c()
for(i in 1:10)
{
model1.q3=arima(data1_log[1:((15-10+i-1)*12)],order=c(2,1,3),seasonal=list(order=c(0,1,1),period=12))
predict1=predict(model1.q3,n.ahead=12,inf.rm=TRUE)
error1[i]=sum((predict1$pred-data1_log[((15-10+i-1)*12+1):((15-10+i)*12)])^2)
}
CV[1]=mean(error1)
CV=c()
#model1
options(warn=-1)
error1=c()
for(i in 1:10)
{
model1.q3=arima(data1_log[1:((15-10+i-1)*12)],order=c(0,1,1),period=12))
CV=c()
#model1
options(warn=-1)
error1=c()
for(i in 1:10)
{
model1.q3=arima(data1_log[1:((15-10+i-1)*12)],order=c(0,1,1),period=12)
predict1=predict(model1.q3,n.ahead=12,inf.rm=TRUE)
error1[i]=sum((predict1$pred-data1_log[((15-10+i-1)*12+1):((15-10+i)*12)])^2)
}
CV=c()
#model1
options(warn=-1)
error1=c()
for(i in 1:10)
{
model1.q3=arima(data1_log[1:((15-10+i-1)*12)],order=c(0,1,1))
predict1=predict(model1.q3,n.ahead=12,inf.rm=TRUE)
error1[i]=sum((predict1$pred-data1_log[((15-10+i-1)*12+1):((15-10+i)*12)])^2)
}
CV[1]=mean(error1)
CV=c()
#model1
options(warn=-1)
error1=c()
for(i in 1:10)
{
model1.q3=arima(data1_log[1:((15-10+i-1)*12)],order=c(0,1,1))
predict1=predict(model1.q3,n.ahead=12,inf.rm=TRUE)
error1[i]=sum((predict1$pred-data1_log[((15-10+i-1)*12+1):((15-10+i)*12)])^2)
}
CV[1]=mean(error1)
#model2
options(warn=-1)
error1=c()
for(i in 1:10)
{
model2.q3=arima(data1_log[1:((15-10+i-1)*12)],order=c(1,1,1))
predict2=predict(model2.q3,n.ahead=12,inf.rm=TRUE)
error1[i]=sum((predict2$pred-data1_log[((15-10+i-1)*12+1):((15-10+i)*12)])^2)
}
CV[2]=mean(error2)
CV=c()
#model1
options(warn=-1)
error1=c()
for(i in 1:10)
{
model1.q3=arima(data1_log[1:((15-10+i-1)*12)],order=c(0,1,1))
predict1=predict(model1.q3,n.ahead=12,inf.rm=TRUE)
error1[i]=sum((predict1$pred-data1_log[((15-10+i-1)*12+1):((15-10+i)*12)])^2)
}
CV[1]=mean(error1)
#model2
options(warn=-1)
error1=c()
for(i in 1:10)
{
model2.q3=arima(data1_log[1:((15-10+i-1)*12)],order=c(1,1,1))
predict2=predict(model2.q3,n.ahead=12,inf.rm=TRUE)
error2[i]=sum((predict2$pred-data1_log[((15-10+i-1)*12+1):((15-10+i)*12)])^2)
}
CV=c()
#model1
options(warn=-1)
error1=c()
for(i in 1:10)
{
model1.q3=arima(data1_log[1:((15-10+i-1)*12)],order=c(0,1,1))
predict1=predict(model1.q3,n.ahead=12,inf.rm=TRUE)
error1[i]=sum((predict1$pred-data1_log[((15-10+i-1)*12+1):((15-10+i)*12)])^2)
}
CV[1]=mean(error1)
#model2
options(warn=-1)
error2=c()
for(i in 1:10)
{
model2.q3=arima(data1_log[1:((15-10+i-1)*12)],order=c(1,1,1))
predict2=predict(model2.q3,n.ahead=12,inf.rm=TRUE)
error2[i]=sum((predict2$pred-data1_log[((15-10+i-1)*12+1):((15-10+i)*12)])^2)
}
CV[2]=mean(error2)
#model3
options(warn=-1)
error3=c()
for(i in 1:10)
{
model3.q3=arima(data1_log[1:((15-10+i-1)*12)],order=c(0,1,0))
predict3=predict(model3.q3,n.ahead=12,inf.rm=TRUE)
error3[i]=sum((predict3$pred-data1_log[((15-10+i-1)*12+1):((15-10+i)*12)])^2)
}
CV[3]=mean(error3)
names(CV)=c("model1","model2","model3","model4")
names(CV)=c("model1","model2","model3")
CV
library(astsa)
library(forecast)
data1.raw = read.delim("data1.csv")
#The useful data is between row 1 and row 180
data1.use = data1.raw[1:180, 1]
len = length(data1.use)
data1 = rep(0, len)
for(i in 1:len)
{
data1[i] = as.numeric(unlist(strsplit(as.character(data1.use[i]), ","))[2])
}
plot(data1, type = "l", ylab = "value", xlab = "Time", main = "data1")
data1_sqrt=sqrt(data1)
data1_log=log(data1)
plot(data1_sqrt, type = "l", ylab = "value", xlab = "Time", main = "data1_sqrt")
plot(data1_log, type = "l", ylab = "value", xlab = "Time", main = "data1_log")
diff.sqrt = diff(data1_sqrt)
d2.sqrt = diff(diff.sqrt)
diff12_1.sqrt=diff(diff.sqrt,lag = 12)
diff12.sqrt=diff(data1_sqrt,lag = 12)
diff12_2.sqrt=diff(d2.sqrt,lag = 12)
diff.log = diff(data1_log)
diff12_1.log = diff(diff.log,lag=12)
d2.log = diff(diff.log)
diff12.log = diff(data1_log,lag=12)
diff12_2.log=diff(d2.log,lag = 12)
plot(diff.sqrt,main="diff1_sqrt",type="l")
plot(d2.sqrt,main="diff2_sqrt",type="l")
plot(diff12.sqrt,main="diff_ag_12_sqrt",type="l")
plot(diff12_1.sqrt,main="diff1_diff12_sqrt",type="l")
plot(diff12_2.sqrt,main="diff2_diff12_sqrt",type="l")
plot(diff.log,main="diff1_log",type="l")
plot(d2.log,main="diff2_log",type="l")
plot(diff12.log,main="diff_ag_12_log",type="l")
plot(diff12_1.log,main="diff1_diff12_log",type="l")
plot(diff12_2.log,main="diff2_diff12_log",type="l")
acf2(diff.sqrt,main="diff1_sqrt",max.lag=55)
acf2(d2.sqrt,main="diff2_sqrt",max.lag=55)
acf2(diff12.sqrt,main="diff_ag_12_sqrt",max.lag=55)
acf2(diff12_1.sqrt,main="diff1_diff12_sqrt",max.lag=55)
acf2(diff12_2.sqrt,main="diff2_diff12_sqrt",max.lag=55)
acf2(diff.log,main="diff1_log",max.lag=55)
acf2(d2.log,main="diff2_log",max.lag=55)
acf2(diff12.log,main="diff_ag_12_log",max.lag=55)
acf2(diff12_1.log,main="diff1_diff12_log",max.lag=55)
acf2(diff12_2.log,main="diff2_diff12_log",max.lag=55)
library(astsa)
auto.arima(data1_log,allowdrift = FALSE)
diff.sqrt = diff(data1_sqrt)
d2.sqrt = diff(diff.sqrt)
diff12_1.sqrt=diff(diff.sqrt,lag = 12)
diff12.sqrt=diff(data1_sqrt,lag = 12)
diff12_2.sqrt=diff(d2.sqrt,lag = 12)
diff.log = diff(data1_log)
diff12_1.log = diff(diff.log,lag=12)
d2.log = diff(diff.log)
diff12.log = diff(data1_log,lag=12)
diff12_2.log=diff(d2.log,lag = 12)
plot(diff.sqrt,main="diff1_sqrt",type="l")
plot(d2.sqrt,main="diff2_sqrt",type="l")
plot(diff12.sqrt,main="diff_ag_12_sqrt",type="l")
plot(diff12_1.sqrt,main="diff1_diff12_sqrt",type="l")
plot(diff12_2.sqrt,main="diff2_diff12_sqrt",type="l")
plot(diff.log,main="diff1_log",type="l")
plot(d2.log,main="diff2_log",type="l")
plot(diff12.log,main="diff_ag_12_log",type="l")
plot(diff12_1.log,main="diff1_diff12_log",type="l")
plot(diff12_2.log,main="diff2_diff12_log",type="l")
acf2(diff.sqrt,main="diff1_sqrt",max.lag=55)
acf2(d2.sqrt,main="diff2_sqrt",max.lag=55)
acf2(diff12.sqrt,main="diff_ag_12_sqrt",max.lag=55)
acf2(diff12_1.sqrt,main="diff1_diff12_sqrt",max.lag=55)
acf2(diff12_2.sqrt,main="diff2_diff12_sqrt",max.lag=55)
acf2(diff.log,main="diff1_log",max.lag=55)
acf2(d2.log,main="diff2_log",max.lag=55)
acf2(diff12.log,main="diff_ag_12_log",max.lag=55)
acf2(diff12_1.log,main="diff1_diff12_log",max.lag=55)
acf2(diff12_2.log,main="diff2_diff12_log",max.lag=55)
library(astsa)
auto.arima(data1_log,allowdrift = FALSE)
library(binomial)
library(binomial)
devtools::check()
